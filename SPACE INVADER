from pygame import *

init()

width = 800
height = 600

screen = display.set_mode((width, height))
c = time.Clock()
FPS = 60

class Invader:
    def __init__(self,x,y):
        SIZE = 50
        self.img = image.load("Invader.png")
        self.img = transform.scale(self.img,(SIZE,SIZE))
        self.rect = Rect(x,y,self.img.get_width(), self.img.get_height())
        self.dx = 1 # direction


    def draw(self, screen):
        screen.blit(self.img, self.rect)
    def update(self):
        global width, height
        self.rect.x += self.dx
        # check boundries
        if self.checkforcollisions():
            self.changedirection()

    def checkforcollisions(self):
            return self.rect.right + self.dx >= width or self.rect.left + self.dx <= 0

    def changedirection(self):
        self.dx = self.dx * -1



class InvaderGroup:
    def __init__(self):
        self.invaderList = []
        for i in range(0, 10):
            for j in range(0, 5):
                x = 100 + (i * 50)
                y = 100 + (j * 50)
                self.invaderList.append(Invader(x, y))

    def draw(self,screen):
        for i in self.invaderList:
            i.draw(screen)
    def update(self):
        global width, height
        self.rect.x += self.dx
        # check boundries
        if self.checkforcollisions():
            self.changedirection()

    def checkforcollisions(self):
            return self.rect.right + self.dx >= width or self.rect.left + self.dx <= 0

    def changedirection(self):
        self.dx = self.dx * -1


endGame = False
ig = InvaderGroup()
myFirstInvader = Invader(100,100) # create my invader
invaderList = []
invaderList.append(myFirstInvader) # add the invader
y = 50
while y <= 250:
    x = 50
    while x <= 550:
        t = Invader(x,y)
        invaderList.append(t)
        x = x + 50
    y = y + 50


while not endGame:
    for e in event.get():
        if e.type == QUIT:
            endGame = True
    screen.fill((0,0,0))
    c.tick(FPS)

    ig.draw(screen)

    for i in invaderList:
        i.update()
        i.draw(screen)


    display.flip()
